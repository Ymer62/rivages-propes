$(document).ready(function(){$(document).on("click","#btnMemberAdd",function(){if(!$("#formAddMemberCat").val()||!$("#formAddMemberName").val()||!$("#formAddMemberJob").val()){alert("Seul les champs email et avatar ne sont pas obligatoires")}else{var b=new FormData($("#formAddMember")[0]);$.ajax({url:"ajax.php?ajax=addMember",type:"POST",xhr:function(){myXhr=$.ajaxSettings.xhr();if(myXhr.upload){myXhr.upload.addEventListener("progress",progressBar,false)}return myXhr},beforeSend:function(){$("#progress").modal("open")},success:function(d,e,c){$("#members").html(d.trim());$("#memberAdd").modal("close");$("#progress").modal("close");$("#formAddMember")[0].reset()},error:{},data:b,cache:false,contentType:false,processData:false})}});$("#members").on("click",".deleteMember",function(){var b=confirm("Voulez-vous vraiment supprimer ce membre ?");if(b){var c=$(this).data("id");$.ajax({type:"POST",url:"ajax.php?ajax=deleteMember",data:{id:c},success:function(e,f,d){$("#members").html(e.trim())}})}});$("#members").on("click",".editMember",function(){var b=$(this).parent().parent().parent().children("h4").html();var e=$(this).parent().parent().children("h6").html();var d=$(this).parent().children("p").html();var c=$(this).data("email");var f=$(this).data("id");$("#formEditMemberCat").val(b);$("#formEditMemberJob").val(e);$("#formEditMemberName").val(d);$("#formEditMemberEmail").val(c);$('#memberEdit input[type="hidden"]').val(f);Materialize.updateTextFields();$("#memberEdit").modal("open")});$(document).on("click","#btnMemberEdit",function(){if(!$("#formEditMemberCat").val()||!$("#formEditMemberName").val()||!$("#formEditMemberJob").val()){alert("Seul les champs email et avatar ne sont pas obligatoires")}else{var b=new FormData($("#formEditMember")[0]);$.ajax({url:"ajax.php?ajax=editMember",type:"POST",xhr:function(){myXhr=$.ajaxSettings.xhr();if(myXhr.upload){myXhr.upload.addEventListener("progress",progressBar,false)}return myXhr},beforeSend:function(){$("#progress").modal("open")},success:function(d,e,c){$("#members").html(d.trim());$("#memberEdit").modal("close");$("#progress").modal("close");$("#formEditMember")[0].reset()},error:{},data:b,cache:false,contentType:false,processData:false})}});function a(c,b){$.ajax({type:"POST",url:"ajax.php?ajax="+(c?"upCatMember":"downCatMember"),data:{cat:b},success:function(e,f,d){$("#members").html(e.trim())}})}$("#members").on("click",".upCatMember",function(){a(true,$(this).data("cat"))});$("#members").on("click",".downCatMember",function(){a(false,$(this).data("cat"))})});